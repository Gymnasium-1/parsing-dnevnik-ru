{% extends "base.html" %}

{% block menu %}
<ul class="nav nav-pills justify-content-end">
  <li class="nav-item">
    <a class="nav-link active" aria-current="page" href="/home">Назад</a>
  </li>
</ul>
{% endblock %}

{% block title %}
<h4>{{ classname }} класс, с {{ week[page_id-1].get("start") }} по {{ week[page_id-1].get("end") }}</h4>
{% endblock %}

{% block content %}
<div class="container">
<div class="table-responsive">
<table class="table table-sm table-striped table-bordered">
  <thead class="table-dark">
    <tr>
      {% for column in columns %}
        <th class="fs-6 lh-sm" scope="col">{{ column }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    <tr>
      {% for row in rows %}
        <th class="lh-sm" scope="row">{{ row }}</th>
        {% for week_column in week_list %}
        <td>
          {% for timetable in timetables %}
            {% for item in timetable %}
              {% if item.date == week_column.str_date %}
                {% if item.lesson_number == row %}
                  <p class="fs-6 lh-1">
                  <strong>{% if item.lesson_room == none %}{% else %}{{ item.lesson_room }}{% endif %}</strong>
                  <br>
                  {% if item.lesson_room == none %}{% else %}{{ item.lesson_name }}{% endif %}
                  <br>
                  {% if item.lesson_room == none %}{% else %}{{ item.lesson_teacher }}{% endif %}
                  <br>
                  {% if item.lesson_room == none %}{% else %}{{ item.lesson_time }}{% endif %}
                  </p>
                {% endif %}
              {% endif %}
            {% endfor %}
          {% endfor %}
        </td>
        {% endfor %}
        </tr>
        <tr>
      {% endfor %}
  </tbody>
</table>
</div>
</div>
{% endblock %}

{% block footer %}
<nav aria-label="Pagination">
  <ul class="pagination">
    {%if page_id == 1 %}
      <li class="page-item active" aria-current="page">
        <span class="page-link">Текущая неделя</span>
      </li>
      <li class="page-item">
        <a class="page-link" href="/schedules/{{classname}}-2">Следующая неделя</a>
      </li>
    {% elif page_id == 2 %}
      <li class="page-item">
      <a class="page-link" href="/schedules/{{classname}}-1">Текущая неделя</a>
      </li>
      <li class="page-item active" aria-current="page">
        <span class="page-link">Следующая неделя</span>
      </li>
    {% endif %}
  </ul>
</nav>
{% endblock %}